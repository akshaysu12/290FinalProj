<!DOCTYPE HTML>
<!--
	Ion by TEMPLATED
	templated.co @templatedco
	Released for free under the Creative Commons Attribution 3.0 license (templated.co/license)
-->
<html>
	<head>
		<title>Intro to AJAX</title>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="description" content="" />
		<meta name="keywords" content="" />
		<!--[if lte IE 8]><script src="js/html5shiv.js"></script><![endif]-->
		<script src="js/jquery.min.js"></script>
		<script src="js/skel.min.js"></script>
		<script src="js/skel-layers.min.js"></script>
		<script src="js/init.js"></script>
		<noscript>
			<link rel="stylesheet" href="css/skel.css" />
			<link rel="stylesheet" href="css/style2.css" />
			<link rel="stylesheet" href="css/style-xlarge.css" />
		</noscript>
	</head>
	<body id="top">

		<!-- Header -->
			<header id="header" class="skel-layers-fixed">
				<nav id="nav">
					<ul>
						<li><a href="index.html">Home</a></li>
					</ul>
				</nav>
			</header>

		<!-- Main -->
			<section id="main" class="wrapper style1">
				<header class="major">
					<h2>Creating AJAX Query's</h2>
					<p>Getting Information Through Client Side API Calls</p>
				</header>
				<div class="container">
					<div class="row">
						<div class="4u">
							<section>
								<p> Everytime you input a url into your browser you are requesting information from the web. Instead of letting the browser handle this information retrieval we're going to do it ourselves. AJAX stands for Asynchronous Javascript and XML. Don't worry too much about the name for now, just remember that AJAX lets us make both GET and POST requests. </p>
								<ul class="actions">
									<li><a href="https://developer.mozilla.org/en-US/docs/AJAX/Getting_Started" class="button alt">Learn More on MDN</a></li>
								</ul>
							</section>
						</div>
						<div class="8u skel-cell-important">
							<section>
								<iframe width="100%" height="300" src="//jsfiddle.net/akshaysu/sbLfohmj/4/embedded/js/" allowfullscreen="allowfullscreen" frameborder="0"></iframe>
								<p> This is the code for your very first AJAX request. We will be using JS Fiddle throughout this guide to present javascript text. Unfortunately, JS Fiddle prevents us from sending actual requests through it's client so if you want to run this code you'll have to first copy it to a local text editor.</p>
							</section>
						</div>
					</div>
					<div class="row">
						<div class="4u">
							<section>
								<h2><strong>Examining the Code</strong></h2>
								<p> Let's take a look at the above code snippet one line at a time. </p>
							</section>
						</div>
						<div class="8u skel-cell-important">
							<section>
								<h3> 1. <strong>var req = new XMLHttpRequest();</strong> </h3>
								<p> This first step to making a request is creating an object that we call "req" that can make our request and return our data. So how do we use this object to retrieve our information? </p>
							</section>
						</div>
					</div>
					<div class="row">
					  <div class="4u">
					    <section>
					      <p>Let's return to the Riot API reference this time focusing on a couple of specific endpoints.</p>
					      <ul class="actions">
					        <li><a href="https://developer.riotgames.com/api/methods" class="button alt">API Reference</a></li>
					      </ul>
					    </section>
					  </div>
					  <div class="8u skel-cell-important">
					    <section>
					      <h4>URI - Uniform Resource Identifier</h4>
					      <a href="#" class="image fit"><img src="images/pathReq.jpg" alt="" /></a>
					      <p> An API provides a user specific syntax on requesting information. Here we can see that requests must be made in the form "GET". What comes after this is called the path request. The words within the braces {} are required user defined variables that narrow down information for the server. </p>
					    </section>
					  </div>
					</div>
					<div class="row">
					  <div class="4u">
					    <section>
					      <p>Let's now look at the next line of code with these two specific Riot API endpoints in mind. </p>
					    </section>
					  </div>
					  <div class="8u skel-cell-important">
					    <section>
								<h4> 2. <strong>req.open("GET", "https://na.api.pvp.net/api/lol/na/v2.2/matchlist/by-summoner/YourSummonerIDHere?api_key=YourAPIKeyHere", true);</strong> </h4>
					      <p> First, we use the open method of our previously generated request object to open a connection to the endpoint that we want to retrieve data from. Second, We specify that connection we're making is a get. Third, we add query parameters to direct the server to retrieve <strong>our</strong> specific information. </p>
								<p> Query parameters always come after a "?" and appear as "key"="value" pairs. This is where we will use our API Key. Your API Key will <strong> always </strong> be the final key=value pair in a request to the Riot API. As we move forwards we will see other parameters that can be used to request specific information. As long as you follow the provided syntax adding these parameters will be a simple matter. </p>
					    </section>
					  </div>
					</div>
					<div class="row">
					  <div class="4u">
					    <section>
					      <p> The final lines of our code make up the bulk of the request. It is here that we will actually work with the data we receive. We're going to go into much more depth with this later. </p>
					    </section>
					  </div>
					  <div class="8u skel-cell-important">
					    <section>
								<h3> 3. <strong>req.addEventListener('load', function()</strong> </h3>
					      <p> This code fulfills the asynchronous part of AJAX. For now, just know that this allows us create an event that when information from the "Get" is done loading will cause our information (req.response) to be stored in a variable. </p>
								<h3> 4. <strong>req.send(null);</strong> </h3>
								<p> Finally, weÂ are going to send the data. Because this is GET request we can just provide a null parameter here as we are not trying to send any information.</p>
					    </section>
					  </div>
					</div>
					<div class="row">
					  <div class="4u">
					    <section>
								<h2><strong>Wrapping Up</strong></h2>
					      <p>Phew! That was probably alot of information to deal with at once and it's likely you'll have to come back to that first fiddle to look up the syntax when maing requests. Once we have this down, though it's smooth sailing. If you skipped ahead here and realize now you need an API key click below to head back to our getting an API key section.</p>
					      <ul class="actions">
					        <li><a href="APIkey.html" class="button alt">Get an API Key</a></li>
					      </ul>
					    </section>
					  </div>
					  <div class="8u skel-cell-important">
					    <section>
					      <h2> Final Syntax Note</h2>
								<iframe width="100%" height="300" src="//jsfiddle.net/akshaysu/jLdgoLg5/2/embedded/js/" allowfullscreen="allowfullscreen" frameborder="0"></iframe>
								<p> One last thing to mention is that because they url query's are strings we can use string concatenation to place variables in place of our query parameter values. The following JS fiddle details how query's will be shown throughout this guide. This allows us much more flexibility when we change our query's.</p>
							 </section>
					  </div>
					</div>
				<!-- Insert new blocks above here -->
				<hr class="major" />
				<div class="row">
					<h4> Retrieving our information, however, is just the first half of our goal. Now we need to focus on how we're going to work with the data we get back</h4>
					<p><a href="JSON.html">Working with JSON</a><p>
				</div>
			</section>

		<!-- Footer -->
			<footer id="footer">
				<div class="container">
					<div class="row double">
						<div class="6u">
							<div class="row collapse-at-2">
								<div class="6u">
								</div>
							</div>
						</div>

					</div>
					<ul class="copyright">
						<li>&copy; Untitled. All rights reserved.</li>
						<li>Design: <a href="http://templated.co">TEMPLATED</a></li>
						<li>Images: <a href="http://unsplash.com">Unsplash</a></li>
					</ul>
				</div>
			</footer>

	</body>
</html>
